---
title: 'React 19 ì™„ì „ ì •ë³µ: ìƒˆë¡œìš´ Hooksì™€ ê¸°ëŠ¥ ì´ì •ë¦¬'
date: '2025-12-01'
tags: ['react', 'react19', 'frontend', 'javascript', 'typescript']
draft: false
summary: 'React 19ì—ì„œ ì¶”ê°€ëœ use(), useActionState, useOptimistic ë“± ìƒˆë¡œìš´ Hooksì™€ Server Components, Actions API ë“± ì£¼ìš” ê¸°ëŠ¥ì„ ì‹¤ì „ ì½”ë“œ ì˜ˆì‹œì™€ í•¨ê»˜ ì™„ë²½ ì •ë¦¬'
images: []
layout: PostLayout
canonicalUrl: https://bulhwi.github.io/blog/doc/react-19-new-features-guide
---

# React 19 Hooksì™€ ê¸°ëŠ¥ ì •ë¦¬

## ëª©ì°¨

1. [ìƒˆë¡œìš´ Hooks](#ìƒˆë¡œìš´-hooks)
   - [use()](#use-api)
   - [useActionState](#useactionstate)
   - [useOptimistic](#useoptimistic)
   - [useFormStatus](#useformstatus)
2. [Actions API](#actions-api)
3. [ref as Props](#ref-as-props)
4. [Document Metadata](#document-metadata)
5. [Server Components & Server Actions](#server-components--server-actions)
6. [ì„±ëŠ¥ ìµœì í™” API](#ì„±ëŠ¥-ìµœì í™”-api)

---

## ìƒˆë¡œìš´ Hooks

### use() API

**ê°€ì¥ í˜ì‹ ì ì¸ ë³€í™”**: ì¡°ê±´ë¬¸ê³¼ ë°˜ë³µë¬¸ ë‚´ì—ì„œ í˜¸ì¶œ ê°€ëŠ¥í•œ ìƒˆë¡œìš´ ë¦¬ì†ŒìŠ¤ ì½ê¸° API.

#### ê¸°ì¡´ useContextì˜ í•œê³„

```tsx
function MyComponent({ isLoggedIn }) {
  // âŒ ì—ëŸ¬: HooksëŠ” ì¡°ê±´ë¬¸ ì•ˆì—ì„œ í˜¸ì¶œ ë¶ˆê°€
  if (isLoggedIn) {
    const theme = useContext(ThemeContext);
  }

  // ëª¨ë“  ê²½ë¡œì—ì„œ í˜¸ì¶œí•´ì•¼ í•¨
  const theme = useContext(ThemeContext);

  if (!isLoggedIn) return null;
  // ...
}
```

#### use()ë¡œ í•´ê²°

```tsx
import { use } from 'react';

function MyComponent({ isLoggedIn }) {
  if (!isLoggedIn) return null;

  // âœ… ì¡°ê±´ë¬¸ ì´í›„ì—ë„ í˜¸ì¶œ ê°€ëŠ¥!
  const theme = use(ThemeContext);

  return <div style={{ color: theme.primary }}>Welcome!</div>;
}
```

#### Promiseì™€ í•¨ê»˜ ì‚¬ìš©í•˜ê¸°

```tsx
import { use, Suspense } from 'react';

// Server Componentì—ì„œ ì „ë‹¬ë°›ì€ Promise
function UserProfile({ userPromise }) {
  // Promiseê°€ resolveë  ë•Œê¹Œì§€ Suspend
  const user = use(userPromise);

  return (
    <div>
      <h1>{user.name}</h1>
      <p>{user.email}</p>
    </div>
  );
}

// ì‚¬ìš© ì˜ˆì‹œ
function App() {
  const userPromise = fetch('/api/user').then((res) => res.json());

  return (
    <Suspense fallback={<div>Loading...</div>}>
      <UserProfile userPromise={userPromise} />
    </Suspense>
  );
}
```

#### ì¡°ê±´ë¶€ ë°ì´í„° ë¡œë”©

```tsx
function Comments({ postId, shouldLoad }) {
  if (!shouldLoad) {
    return <p>ëŒ“ê¸€ì„ ë³´ë ¤ë©´ ë¡œê·¸ì¸í•˜ì„¸ìš”</p>;
  }

  // ì¡°ê±´ì´ trueì¼ ë•Œë§Œ ë°ì´í„° ë¡œë“œ
  const comments = use(fetchComments(postId));

  return (
    <ul>
      {comments.map((comment) => (
        <li key={comment.id}>{comment.text}</li>
      ))}
    </ul>
  );
}
```

**í•µì‹¬ íŠ¹ì§•:**

- ì¡°ê±´ë¬¸/ë°˜ë³µë¬¸ ë‚´ì—ì„œ í˜¸ì¶œ ê°€ëŠ¥
- Promiseì™€ Context ëª¨ë‘ ì§€ì›
- Suspenseì™€ ìë™ í†µí•©
- Error Boundaryë¡œ ì—ëŸ¬ ì²˜ë¦¬

---

### useActionState

í¼ ìƒíƒœ ê´€ë¦¬ë¥¼ ìœ„í•œ ìƒˆë¡œìš´ Hookì…ë‹ˆë‹¤. ê¸°ì¡´ `useFormState`ë¥¼ ëŒ€ì²´í•©ë‹ˆë‹¤.

#### ê¸°ë³¸ ì‚¬ìš©ë²•

```tsx
import { useActionState } from 'react';

async function updateName(previousState, formData) {
  const name = formData.get('name');

  // ì„œë²„ì— ì „ì†¡
  try {
    await fetch('/api/update-name', {
      method: 'POST',
      body: JSON.stringify({ name }),
    });

    return { success: true, message: 'ì´ë¦„ì´ ì—…ë°ì´íŠ¸ë˜ì—ˆìŠµë‹ˆë‹¤!' };
  } catch (error) {
    return { success: false, message: 'ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.' };
  }
}

function NameForm() {
  const [state, formAction, isPending] = useActionState(
    updateName,
    { success: false, message: '' } // ì´ˆê¸° ìƒíƒœ
  );

  return (
    <form action={formAction}>
      <input type="text" name="name" required />
      <button disabled={isPending}>{isPending ? 'ì €ì¥ ì¤‘...' : 'ì €ì¥'}</button>

      {state.message && <p className={state.success ? 'success' : 'error'}>{state.message}</p>}
    </form>
  );
}
```

#### ì´ì „ ìƒíƒœ í™œìš©í•˜ê¸°

```tsx
async function addTodo(previousState, formData) {
  const todo = formData.get('todo');

  return {
    todos: [...previousState.todos, { id: Date.now(), text: todo }],
    lastAdded: todo,
  };
}

function TodoList() {
  const [state, formAction, isPending] = useActionState(addTodo, { todos: [], lastAdded: null });

  return (
    <div>
      <form action={formAction}>
        <input type="text" name="todo" required />
        <button disabled={isPending}>ì¶”ê°€</button>
      </form>

      <ul>
        {state.todos.map((todo) => (
          <li key={todo.id}>{todo.text}</li>
        ))}
      </ul>

      {state.lastAdded && <p>ë§ˆì§€ë§‰ ì¶”ê°€: {state.lastAdded}</p>}
    </div>
  );
}
```

#### Server Actionsì™€ í•¨ê»˜ ì‚¬ìš©

```tsx
// app/actions.ts
'use server';

export async function createPost(previousState, formData) {
  const title = formData.get('title');
  const content = formData.get('content');

  const validation = validatePost({ title, content });
  if (!validation.success) {
    return { errors: validation.errors };
  }

  const post = await db.post.create({
    data: { title, content },
  });

  return { success: true, postId: post.id };
}
```

```tsx
// app/components/PostForm.tsx
'use client';

import { useActionState } from 'react';
import { createPost } from '../actions';

export function PostForm() {
  const [state, formAction, isPending] = useActionState(createPost, {
    errors: null,
    success: false,
  });

  return (
    <form action={formAction}>
      <input type="text" name="title" />
      {state.errors?.title && <span>{state.errors.title}</span>}

      <textarea name="content" />
      {state.errors?.content && <span>{state.errors.content}</span>}

      <button disabled={isPending}>{isPending ? 'ì‘ì„± ì¤‘...' : 'ì‘ì„±'}</button>

      {state.success && <p>í¬ìŠ¤íŠ¸ê°€ ì‘ì„±ë˜ì—ˆìŠµë‹ˆë‹¤!</p>}
    </form>
  );
}
```

**í•µì‹¬ íŠ¹ì§•:**

- ì´ì „ ìƒíƒœë¥¼ action í•¨ìˆ˜ì˜ ì²« ë²ˆì§¸ ì¸ìë¡œ ë°›ìŒ
- ìë™ pending ìƒíƒœ ê´€ë¦¬
- Server Actionsì™€ ì™„ë²½í•œ í†µí•©

---

### useOptimistic

ë¹„ë™ê¸° ì‘ì—…ì´ ì™„ë£Œë˜ê¸° ì „ì— UIë¥¼ ë‚™ê´€ì ìœ¼ë¡œ ì—…ë°ì´íŠ¸í•œë‹¤.

#### ê¸°ë³¸ ê°œë…

```tsx
import { useOptimistic, useState } from 'react';

function LikeButton({ postId, initialLikes }) {
  const [likes, setLikes] = useState(initialLikes);
  const [optimisticLikes, addOptimisticLike] = useOptimistic(
    likes,
    (currentLikes, amount) => currentLikes + amount
  );

  async function handleLike() {
    // ì¦‰ì‹œ UI ì—…ë°ì´íŠ¸ (ë‚™ê´€ì )
    addOptimisticLike(1);

    // ì„œë²„ ìš”ì²­
    const newLikes = await fetch(`/api/like/${postId}`, {
      method: 'POST',
    }).then((res) => res.json());

    // ì‹¤ì œ ê°’ìœ¼ë¡œ ì—…ë°ì´íŠ¸
    setLikes(newLikes);
  }

  return <button onClick={handleLike}>ğŸ‘ {optimisticLikes}</button>;
}
```

#### ì±„íŒ… ë©”ì‹œì§€ ì „ì†¡ ì˜ˆì‹œ

```tsx
import { useOptimistic, useRef } from 'react';

function ChatRoom({ messages, sendMessage }) {
  const [optimisticMessages, addOptimisticMessage] = useOptimistic(
    messages,
    (currentMessages, newMessage) => [...currentMessages, { ...newMessage, sending: true }]
  );

  const formRef = useRef();

  async function handleSubmit(formData) {
    const message = formData.get('message');

    // ì¦‰ì‹œ UIì— ë©”ì‹œì§€ ì¶”ê°€
    addOptimisticMessage({
      id: Date.now(),
      text: message,
      timestamp: new Date(),
    });

    // í¼ ì´ˆê¸°í™”
    formRef.current?.reset();

    // ì„œë²„ë¡œ ì „ì†¡
    await sendMessage(message);
  }

  return (
    <div>
      <div className="messages">
        {optimisticMessages.map((msg) => (
          <div key={msg.id} className={msg.sending ? 'sending' : ''}>
            {msg.text}
            {msg.sending && <span> (ì „ì†¡ ì¤‘...)</span>}
          </div>
        ))}
      </div>

      <form ref={formRef} action={handleSubmit}>
        <input type="text" name="message" required />
        <button>ì „ì†¡</button>
      </form>
    </div>
  );
}
```

#### Todo ì•„ì´í…œ ì™„ë£Œ ì²˜ë¦¬

```tsx
function TodoList({ todos }) {
  const [optimisticTodos, toggleOptimisticTodo] = useOptimistic(todos, (currentTodos, todoId) =>
    currentTodos.map((todo) =>
      todo.id === todoId ? { ...todo, completed: !todo.completed } : todo
    )
  );

  async function handleToggle(todoId) {
    // ì¦‰ì‹œ ì™„ë£Œ ìƒíƒœ í† ê¸€
    toggleOptimisticTodo(todoId);

    // ì„œë²„ ë™ê¸°í™”
    await fetch(`/api/todos/${todoId}/toggle`, {
      method: 'PATCH',
    });
  }

  return (
    <ul>
      {optimisticTodos.map((todo) => (
        <li
          key={todo.id}
          onClick={() => handleToggle(todo.id)}
          style={{
            textDecoration: todo.completed ? 'line-through' : 'none',
            opacity: todo.completed ? 0.6 : 1,
          }}
        >
          {todo.text}
        </li>
      ))}
    </ul>
  );
}
```

**í•µì‹¬ íŠ¹ì§•:**

- ì¦‰ê°ì ì¸ ì‚¬ìš©ì í”¼ë“œë°±
- ìë™ ë¡¤ë°± (ì‹¤íŒ¨ ì‹œ)
- ë¶€ë“œëŸ¬ìš´ UX ì œê³µ

---

### useFormStatus

í¼ ì»´í¬ë„ŒíŠ¸ì˜ ì œì¶œ ìƒíƒœë¥¼ ìì‹ ì»´í¬ë„ŒíŠ¸ì—ì„œ ì½ì„ ìˆ˜ ìˆë‹¤.

#### ì œì¶œ ë²„íŠ¼ ì»´í¬ë„ŒíŠ¸

```tsx
import { useFormStatus } from 'react-dom';

function SubmitButton() {
  const { pending, data, method, action } = useFormStatus();

  return (
    <button type="submit" disabled={pending}>
      {pending ? 'ì œì¶œ ì¤‘...' : 'ì œì¶œ'}
    </button>
  );
}
```

#### ì‹¤ì „ í™œìš©: í¼ ë¡œë”© ì¸ë””ì¼€ì´í„°

```tsx
function FormLoadingIndicator() {
  const { pending } = useFormStatus();

  if (!pending) return null;

  return (
    <div className="loading-overlay">
      <div className="spinner" />
      <p>ì²˜ë¦¬ ì¤‘ì…ë‹ˆë‹¤...</p>
    </div>
  );
}

function ContactForm() {
  async function handleSubmit(formData) {
    await fetch('/api/contact', {
      method: 'POST',
      body: formData,
    });
  }

  return (
    <form action={handleSubmit}>
      <input type="text" name="name" required />
      <input type="email" name="email" required />
      <textarea name="message" required />

      <SubmitButton />
      <FormLoadingIndicator />
    </form>
  );
}
```

#### ì œì¶œ ë°ì´í„° ê¸°ë°˜ UI

```tsx
function SaveButton() {
  const { pending, data } = useFormStatus();

  const fileName = data?.get('filename');

  return (
    <button type="submit" disabled={pending}>
      {pending ? `${fileName} ì €ì¥ ì¤‘...` : 'ì €ì¥'}
    </button>
  );
}

function FileUploadForm() {
  return (
    <form action="/api/upload">
      <input type="file" name="file" />
      <input type="text" name="filename" />
      <SaveButton />
    </form>
  );
}
```

**í•µì‹¬ íŠ¹ì§•:**

- ë¶€ëª¨ í¼ì˜ ìƒíƒœë¥¼ Contextì²˜ëŸ¼ ì½ìŒ
- Prop drilling ì—†ì´ ìƒíƒœ ê³µìœ 
- ì¬ì‚¬ìš© ê°€ëŠ¥í•œ í¼ ì»´í¬ë„ŒíŠ¸ ì œì‘

---

## Actions API

ë¹„ë™ê¸° ì „í™˜(Async Transitions)ì„ ê´€ë¦¬í•˜ëŠ” ìƒˆë¡œìš´ íŒ¨í„´ì´ë‹¤.

### ê¸°ë³¸ ê°œë…

```tsx
function UpdateNameForm() {
  const [name, setName] = useState('');
  const [error, setError] = useState(null);
  const [isPending, startTransition] = useTransition();

  async function handleSubmit(event) {
    event.preventDefault();

    startTransition(async () => {
      const error = await updateName(name);
      if (error) {
        setError(error);
        return;
      }
      // ì„±ê³µ ì²˜ë¦¬
    });
  }

  return (
    <form onSubmit={handleSubmit}>
      <input value={name} onChange={(e) => setName(e.target.value)} />
      <button disabled={isPending}>ì—…ë°ì´íŠ¸</button>
      {error && <p>{error}</p>}
    </form>
  );
}
```

### form actionê³¼ í†µí•©

```tsx
function SearchForm() {
  const [isPending, startTransition] = useTransition();
  const [results, setResults] = useState([]);

  async function search(formData) {
    const query = formData.get('query');

    startTransition(async () => {
      const data = await fetch(`/api/search?q=${query}`).then((res) => res.json());
      setResults(data);
    });
  }

  return (
    <div>
      <form action={search}>
        <input type="text" name="query" />
        <button>ê²€ìƒ‰</button>
      </form>

      {isPending && <div>ê²€ìƒ‰ ì¤‘...</div>}

      <ul>
        {results.map((item) => (
          <li key={item.id}>{item.title}</li>
        ))}
      </ul>
    </div>
  );
}
```

**í•µì‹¬ íŠ¹ì§•:**

- ìë™ pending ìƒíƒœ ê´€ë¦¬
- ì—ëŸ¬ ì²˜ë¦¬ ë‚´ì¥
- ë‚™ê´€ì  ì—…ë°ì´íŠ¸ ì§€ì›
- í¼ ìë™ ë¦¬ì…‹

---

## ref as Props

`forwardRef` ì—†ì´ í•¨ìˆ˜ ì»´í¬ë„ŒíŠ¸ì—ì„œ ì§ì ‘ refë¥¼ ë°›ì„ ìˆ˜ ìˆë‹¤.

### Before (React 18)

```tsx
import { forwardRef } from 'react';

const MyInput = forwardRef(function MyInput(props, ref) {
  return <input {...props} ref={ref} />;
});

function Form() {
  const inputRef = useRef(null);

  return <MyInput ref={inputRef} />;
}
```

### After (React 19)

```tsx
function MyInput({ ref, ...props }) {
  return <input {...props} ref={ref} />;
}

function Form() {
  const inputRef = useRef(null);

  return <MyInput ref={inputRef} />;
}
```

### ref cleanup í•¨ìˆ˜

```tsx
function VideoPlayer({ src, ref }) {
  return (
    <video
      src={src}
      ref={(node) => {
        if (node) {
          // ë§ˆìš´íŠ¸ ì‹œ
          node.play();
        }

        // í´ë¦°ì—… í•¨ìˆ˜ ë°˜í™˜
        return () => {
          node.pause();
        };
      }}
    />
  );
}
```

### ì‹¤ì „ í™œìš©: í¬ì»¤ìŠ¤ ê´€ë¦¬

```tsx
function AutoFocusInput({ ref, ...props }) {
  return (
    <input
      {...props}
      ref={(node) => {
        if (node) {
          node.focus();
        }

        // ì™¸ë¶€ refë„ ì„¤ì •
        if (typeof ref === 'function') {
          ref(node);
        } else if (ref) {
          ref.current = node;
        }

        return () => {
          node.blur();
        };
      }}
    />
  );
}
```

**í•µì‹¬ íŠ¹ì§•:**

- `forwardRef` ë¶ˆí•„ìš”
- í´ë¦°ì—… í•¨ìˆ˜ ì§€ì›
- ì½”ë“œ ê°„ì†Œí™”

---

## Document Metadata

ì»´í¬ë„ŒíŠ¸ ë‚´ì—ì„œ ì§ì ‘ `<title>`, `<meta>`, `<link>` íƒœê·¸ë¥¼ ë Œë”ë§í•  ìˆ˜ ìˆë‹¤.

### ê¸°ë³¸ ì‚¬ìš©ë²•

```tsx
function BlogPost({ post }) {
  return (
    <article>
      <title>{post.title} - My Blog</title>
      <meta name="description" content={post.excerpt} />
      <meta property="og:title" content={post.title} />
      <meta property="og:image" content={post.coverImage} />

      <h1>{post.title}</h1>
      <p>{post.content}</p>
    </article>
  );
}
```

### ë™ì  ë©”íƒ€ë°ì´í„°

```tsx
function ProductPage({ product }) {
  return (
    <div>
      <title>{product.name} - ì˜¨ë¼ì¸ ì‡¼í•‘ëª°</title>
      <meta name="description" content={product.description} />
      <meta property="og:type" content="product" />
      <meta property="og:price:amount" content={product.price} />
      <meta property="og:price:currency" content="KRW" />

      <link rel="canonical" href={`https://example.com/products/${product.id}`} />

      <div className="product">
        <h1>{product.name}</h1>
        <p>{product.price}ì›</p>
      </div>
    </div>
  );
}
```

### ë¦¬ì†ŒìŠ¤ í”„ë¦¬ë¡œë”©

```tsx
function ArticlePage({ article }) {
  return (
    <article>
      <title>{article.title}</title>

      {/* í°íŠ¸ í”„ë¦¬ë¡œë“œ */}
      <link
        rel="preload"
        href="/fonts/custom-font.woff2"
        as="font"
        type="font/woff2"
        crossOrigin="anonymous"
      />

      {/* ì´ë¯¸ì§€ í”„ë¦¬ë¡œë“œ */}
      <link rel="preload" href={article.heroImage} as="image" />

      <h1>{article.title}</h1>
      <img src={article.heroImage} alt={article.title} />
    </article>
  );
}
```

**í•µì‹¬ íŠ¹ì§•:**

- ìë™ìœ¼ë¡œ `<head>`ì— í˜¸ì´ìŠ¤íŒ…
- ì»´í¬ë„ŒíŠ¸ì™€ ë©”íƒ€ë°ì´í„° í•¨ê»˜ ê´€ë¦¬
- SSR ì™„ë²½ ì§€ì›

---

## Server Components & Server Actions

React 19ì—ì„œ Server Componentsì™€ Server Actionsê°€ ì •ì‹ìœ¼ë¡œ ì•ˆì •í™”ë˜ì—ˆë‹¤.

### Server Component ê¸°ë³¸

```tsx
// app/posts/page.tsx (Server Component)
async function PostsPage() {
  // ì„œë²„ì—ì„œë§Œ ì‹¤í–‰
  const posts = await db.post.findMany();

  return (
    <div>
      <h1>ê²Œì‹œê¸€ ëª©ë¡</h1>
      <ul>
        {posts.map((post) => (
          <li key={post.id}>{post.title}</li>
        ))}
      </ul>
    </div>
  );
}
```

### Server Actions

```tsx
// app/actions.ts
'use server';

import { revalidatePath } from 'next/cache';

export async function createComment(formData) {
  const postId = formData.get('postId');
  const content = formData.get('content');

  await db.comment.create({
    data: {
      postId: Number(postId),
      content: String(content),
    },
  });

  revalidatePath(`/posts/${postId}`);

  return { success: true };
}
```

```tsx
// app/components/CommentForm.tsx
'use client';

import { createComment } from '../actions';

export function CommentForm({ postId }) {
  return (
    <form action={createComment}>
      <input type="hidden" name="postId" value={postId} />
      <textarea name="content" required />
      <button>ëŒ“ê¸€ ì‘ì„±</button>
    </form>
  );
}
```

### ë³µí•© ì˜ˆì‹œ: ë‚™ê´€ì  ì—…ë°ì´íŠ¸ + Server Actions

```tsx
// app/actions.ts
'use server';

export async function deletePost(postId) {
  await db.post.delete({
    where: { id: postId },
  });

  revalidatePath('/posts');

  return { success: true };
}
```

```tsx
// app/components/PostList.tsx
'use client';

import { useOptimistic } from 'react';
import { deletePost } from '../actions';

export function PostList({ posts }) {
  const [optimisticPosts, removeOptimisticPost] = useOptimistic(posts, (currentPosts, postId) =>
    currentPosts.filter((post) => post.id !== postId)
  );

  async function handleDelete(postId) {
    // ì¦‰ì‹œ UIì—ì„œ ì œê±°
    removeOptimisticPost(postId);

    // ì„œë²„ì—ì„œ ì‚­ì œ
    await deletePost(postId);
  }

  return (
    <ul>
      {optimisticPosts.map((post) => (
        <li key={post.id}>
          {post.title}
          <button onClick={() => handleDelete(post.id)}>ì‚­ì œ</button>
        </li>
      ))}
    </ul>
  );
}
```

**í•µì‹¬ íŠ¹ì§•:**

- `'use server'` ë””ë ‰í‹°ë¸Œë¡œ ì„œë²„ í•¨ìˆ˜ ì •ì˜
- í´ë¼ì´ì–¸íŠ¸ì—ì„œ ì§ì ‘ í˜¸ì¶œ ê°€ëŠ¥
- TypeScript ì™„ë²½ ì§€ì›
- ìë™ ì§ë ¬í™”/ì—­ì§ë ¬í™”

---

## ì„±ëŠ¥ ìµœì í™” API

### ë¦¬ì†ŒìŠ¤ í”„ë¦¬ë¡œë”© í•¨ìˆ˜

React 19ëŠ” `react-dom`ì—ì„œ ìƒˆë¡œìš´ ë¦¬ì†ŒìŠ¤ ìµœì í™” í•¨ìˆ˜ë“¤ì„ ì œê³µí•œë‹¤.

```tsx
import { prefetchDNS, preconnect, preload, preinit } from 'react-dom';

function MyApp() {
  // DNS í”„ë¦¬í˜ì¹˜
  prefetchDNS('https://api.example.com');

  // ì—°ê²° ë¯¸ë¦¬ ìƒì„±
  preconnect('https://cdn.example.com');

  // ë¦¬ì†ŒìŠ¤ í”„ë¦¬ë¡œë“œ
  preload('/fonts/custom-font.woff2', { as: 'font' });

  // ìŠ¤í¬ë¦½íŠ¸/ìŠ¤íƒ€ì¼ ë¯¸ë¦¬ ë¡œë“œ ë° ì‹¤í–‰
  preinit('/scripts/analytics.js', { as: 'script' });

  return <div>My App</div>;
}
```

### ì¡°ê±´ë¶€ í”„ë¦¬ë¡œë”©

```tsx
function ProductPage({ product }) {
  // ê´€ë ¨ ì œí’ˆ ì´ë¯¸ì§€ ë¯¸ë¦¬ ë¡œë“œ
  if (product.relatedProducts.length > 0) {
    product.relatedProducts.forEach((related) => {
      preload(related.image, { as: 'image' });
    });
  }

  return (
    <div>
      <h1>{product.name}</h1>
      {/* ... */}
    </div>
  );
}
```

---

## ë§ˆì´ê·¸ë ˆì´ì…˜ ê°€ì´ë“œ

### React 18 â†’ React 19 ì²´í¬ë¦¬ìŠ¤íŠ¸

**1. ì˜ì¡´ì„± ì—…ë°ì´íŠ¸**

```bash
npm install react@19 react-dom@19
```

**2. íƒ€ì… ì •ì˜ ì—…ë°ì´íŠ¸ (TypeScript)**

```bash
npm install --save-dev @types/react@19 @types/react-dom@19
```

**3. Deprecated API êµì²´**

```tsx
// âŒ React 18
import { useFormState } from 'react-dom';

// âœ… React 19
import { useActionState } from 'react';
```

```tsx
// âŒ React 18
const MyInput = forwardRef((props, ref) => {
  return <input {...props} ref={ref} />;
});

// âœ… React 19
function MyInput({ ref, ...props }) {
  return <input {...props} ref={ref} />;
}
```

**4. Context Provider ê°„ì†Œí™”**

```tsx
// âŒ React 18
<ThemeContext.Provider value={theme}>
  <App />
</ThemeContext.Provider>

// âœ… React 19 (ë‘˜ ë‹¤ ê°€ëŠ¥)
<ThemeContext value={theme}>
  <App />
</ThemeContext>
```

---

## ì‹¤ì „ í™œìš© ì‹œë‚˜ë¦¬ì˜¤

### ì‹œë‚˜ë¦¬ì˜¤ 1: ì‹¤ì‹œê°„ ê²€ìƒ‰ with Debounce

```tsx
'use client';

import { use, useState, useTransition } from 'react';

function SearchResults({ searchPromise }) {
  const results = use(searchPromise);

  return (
    <ul>
      {results.map((item) => (
        <li key={item.id}>{item.title}</li>
      ))}
    </ul>
  );
}

export function SearchPage() {
  const [query, setQuery] = useState('');
  const [searchPromise, setSearchPromise] = useState(null);
  const [isPending, startTransition] = useTransition();

  function handleSearch(e) {
    const value = e.target.value;
    setQuery(value);

    if (value.length < 2) {
      setSearchPromise(null);
      return;
    }

    startTransition(() => {
      setSearchPromise(fetch(`/api/search?q=${value}`).then((res) => res.json()));
    });
  }

  return (
    <div>
      <input type="text" value={query} onChange={handleSearch} placeholder="ê²€ìƒ‰..." />

      {isPending && <div>ê²€ìƒ‰ ì¤‘...</div>}

      {searchPromise && (
        <Suspense fallback={<div>ê²°ê³¼ ë¡œë”© ì¤‘...</div>}>
          <SearchResults searchPromise={searchPromise} />
        </Suspense>
      )}
    </div>
  );
}
```

### ì‹œë‚˜ë¦¬ì˜¤ 2: ë‹¤ë‹¨ê³„ í¼ with ìƒíƒœ ê´€ë¦¬

```tsx
'use client';

import { useActionState } from 'react';
import { submitMultiStepForm } from './actions';

export function MultiStepForm() {
  const [state, formAction, isPending] = useActionState(submitMultiStepForm, {
    step: 1,
    data: {},
    errors: null,
  });

  return (
    <form action={formAction}>
      {state.step === 1 && (
        <div>
          <h2>1ë‹¨ê³„: ê°œì¸ì •ë³´</h2>
          <input type="text" name="name" required />
          <input type="email" name="email" required />
          {state.errors?.name && <span>{state.errors.name}</span>}
          <button name="action" value="next">
            ë‹¤ìŒ
          </button>
        </div>
      )}

      {state.step === 2 && (
        <div>
          <h2>2ë‹¨ê³„: ì£¼ì†Œ</h2>
          <input type="text" name="address" required />
          <input type="text" name="city" required />
          <button name="action" value="prev">
            ì´ì „
          </button>
          <button name="action" value="next">
            ë‹¤ìŒ
          </button>
        </div>
      )}

      {state.step === 3 && (
        <div>
          <h2>3ë‹¨ê³„: í™•ì¸</h2>
          <pre>{JSON.stringify(state.data, null, 2)}</pre>
          <button name="action" value="prev">
            ì´ì „
          </button>
          <button name="action" value="submit" disabled={isPending}>
            {isPending ? 'ì œì¶œ ì¤‘...' : 'ì œì¶œ'}
          </button>
        </div>
      )}
    </form>
  );
}
```

### ì‹œë‚˜ë¦¬ì˜¤ 3: ë¬´í•œ ìŠ¤í¬ë¡¤ with use()

```tsx
'use client';

import { use, useState, Suspense } from 'react';

function PostList({ postsPromise }) {
  const posts = use(postsPromise);

  return (
    <>
      {posts.map((post) => (
        <article key={post.id}>
          <h2>{post.title}</h2>
          <p>{post.excerpt}</p>
        </article>
      ))}
    </>
  );
}

export function InfiniteScrollPosts() {
  const [pages, setPages] = useState([fetch('/api/posts?page=1').then((res) => res.json())]);

  function loadMore() {
    setPages((prev) => [
      ...prev,
      fetch(`/api/posts?page=${prev.length + 1}`).then((res) => res.json()),
    ]);
  }

  return (
    <div>
      {pages.map((pagePromise, index) => (
        <Suspense key={index} fallback={<div>Loading...</div>}>
          <PostList postsPromise={pagePromise} />
        </Suspense>
      ))}

      <button onClick={loadMore}>ë” ë³´ê¸°</button>
    </div>
  );
}
```

---

## ì£¼ì˜ì‚¬í•­ ë° Best Practices

### 1. use()ëŠ” Suspenseì™€ í•¨ê»˜ ì‚¬ìš©

```tsx
// âŒ Suspense ì—†ì´ ì‚¬ìš© ì‹œ ì—ëŸ¬
function MyComponent({ dataPromise }) {
  const data = use(dataPromise);
  return <div>{data}</div>;
}

// âœ… Suspenseë¡œ ê°ì‹¸ê¸°
function App() {
  return (
    <Suspense fallback={<Loading />}>
      <MyComponent dataPromise={fetchData()} />
    </Suspense>
  );
}
```

### 2. Server ActionsëŠ” ë³´ì•ˆì— ì£¼ì˜

```tsx
// âŒ í´ë¼ì´ì–¸íŠ¸ ì…ë ¥ì„ ê·¸ëŒ€ë¡œ ì‚¬ìš©
'use server';
export async function deleteUser(userId) {
  await db.user.delete({ where: { id: userId } });
}

// âœ… ê¶Œí•œ ê²€ì¦ ì¶”ê°€
('use server');
export async function deleteUser(userId) {
  const session = await getSession();

  if (!session || session.userId !== userId) {
    throw new Error('Unauthorized');
  }

  await db.user.delete({ where: { id: userId } });
}
```

### 3. useOptimisticì€ ì‹¤íŒ¨ ì²˜ë¦¬ ê³ ë ¤

```tsx
function TodoItem({ todo, onToggle }) {
  const [optimisticTodo, setOptimisticTodo] = useOptimistic(todo, (current) => ({
    ...current,
    completed: !current.completed,
  }));

  async function handleToggle() {
    setOptimisticTodo();

    try {
      await onToggle(todo.id);
    } catch (error) {
      // ì‹¤íŒ¨ ì‹œ ì‚¬ìš©ìì—ê²Œ ì•Œë¦¼
      alert('ì²˜ë¦¬ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤. ë‹¤ì‹œ ì‹œë„í•´ì£¼ì„¸ìš”.');
    }
  }

  return <li onClick={handleToggle}>{optimisticTodo.text}</li>;
}
```

---

## ì •ë¦¬

**ğŸ£ ìƒˆë¡œìš´ Hooks**

- `use()`: ì¡°ê±´ë¶€ ë¦¬ì†ŒìŠ¤ ì½ê¸°
- `useActionState`: í¼ ìƒíƒœ ê´€ë¦¬
- `useOptimistic`: ë‚™ê´€ì  ì—…ë°ì´íŠ¸
- `useFormStatus`: í¼ ìƒíƒœ ê³µìœ 

**âš¡ï¸ ì„±ëŠ¥ ê°œì„ **

- Server Components ì•ˆì •í™”
- Actions APIë¡œ ê°„í¸í•œ ë¹„ë™ê¸° ì²˜ë¦¬
- ë¦¬ì†ŒìŠ¤ í”„ë¦¬ë¡œë”© í•¨ìˆ˜ë“¤

**ğŸ”§ ê°œë°œì ê²½í—˜**

- `ref` Props ì§ì ‘ ì „ë‹¬
- Context ê°„ì†Œí™”
- Document Metadata í†µí•©

React 19ì˜ ìƒˆë¡œìš´ ê¸°ëŠ¥ë“¤ì„ í™œìš©í•˜ë©´ ë” ê°„ê²°í•˜ê³ , ë¹ ë¥´ê³ , ì‚¬ìš©ì ì¹œí™”ì ì¸ ì• í”Œë¦¬ì¼€ì´ì…˜ì„ ë§Œë“¤ ìˆ˜ ìˆë‹¤.

---

**ì°¸ê³  ìë£Œ**

- [React 19 ê³µì‹ ë°œí‘œ](https://react.dev/blog/2024/12/05/react-19)
- [React Hooks Reference](https://react.dev/reference/react/hooks)
- [Server Actions ê°€ì´ë“œ](https://react.dev/reference/rsc/server-actions)
